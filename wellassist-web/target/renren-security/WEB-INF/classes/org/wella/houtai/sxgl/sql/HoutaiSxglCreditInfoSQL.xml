<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd"> 

<mapper namespace="org.wella.houtai.sxgl.mapper.HoutaiSxglCreditInfoMapper">
  	<!-- select -->
  	<!-- 授信信息目录获得函数 -->
	<select id = "getSxCreditInfoList" parameterType="java.util.Map" resultType = "java.util.Map">
	   SELECT a.*, IF(b.user_name IS NULL, IF(c.adminName IS NULL, '', c.adminName), b.user_name) mgrName
	   FROM wa_credit_info a 
	   LEFT JOIN wa_user b ON a.mgr_user_id = b.user_id
	   LEFT JOIN wa_admin c ON a.admin_user_id = c.id
	   <where>
	   		<if test = "creditId != null">
	   			AND a.credit_id = #{creditId}
	   		</if>
	   </where>
	   ORDER BY a.credit_id   
	</select>
	
	
	
	
	 
</mapper>