<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.wella.front.seller.mapper.FrontSellerProdMapper">
	<!-- select -->
	<!-- 买家商品联系添加目录获得函数 -->
	<select id = "getAddUserProdList" parameterType = "java.util.Map" resultType = "java.util.Map">
		SELECT a.* 
		FROM wa_prod a 
		LEFT JOIN  wa_prod_user b ON a.prod_id = b.prod_id AND b.user_id = #{userId}
		WHERE a.user_id = #{gysId}  AND b.log_id IS NULL
		<if test = "prodName != null">
			AND a.prod_name LIKE '%${prodName}%'
		</if>	
		ORDER BY a.prod_id DESC
		LIMIT ${start} , ${size}
	</select>	
	<!-- 买家商品联系添加目录个数获得函数 -->
	<select id = "getAddUserProdListCount" parameterType = "java.util.Map" resultType = "int">
		SELECT COUNT(*)
		FROM wa_prod a 
		LEFT JOIN  wa_prod_user b ON a.prod_id = b.prod_id AND b.user_id = #{userId}
		WHERE a.user_id = #{gysId}  AND b.log_id IS NULL
		<if test = "prodName != null">
			AND a.prod_name LIKE '%${prodName}%'
		</if>
	</select>
	<!-- select -->
</mapper>