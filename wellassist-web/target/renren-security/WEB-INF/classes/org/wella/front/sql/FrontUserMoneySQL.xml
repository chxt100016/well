<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="org.wella.front.mapper.FrontUserMoneyMapper">
	<!-- select -->
	<!-- 用户交易记录获得函数 -->
	<select id = "getJyList" parameterType = "java.util.Map" resultType = "java.util.Map">
		SELECT * FROM wa_user_money 
		<where>
			<if test = "userId != null">
				AND user_id = #{userId}		
			</if> 
			<if test = "jyState != null">
				AND jy_state = #{jyState}	
			</if>
		</where>
		ORDER BY complete_date DESC
		LIMIT ${start}, ${size}
	</select>
	<!-- 用户交易记录个数获得函数 -->
	<select id = "getJyListCount" parameterType = "java.util.Map" resultType = "int">
		SELECT COUNT(*) FROM wa_user_money 
		<where>
			<if test = "userId != null">
				AND user_id = #{userId}		
			</if> 
			<if test = "jyState != null">
				AND jy_state = #{jyState}	
			</if>
		</where>
	</select>
	
	
</mapper>