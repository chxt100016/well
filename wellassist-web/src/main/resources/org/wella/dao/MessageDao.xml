<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.wella.dao.MessageDao">

    <resultMap id="message" type="org.wella.entity.Message">
        <id column="id" property="id"/>
        <id column="title" property="title"/>
        <result column="type" property="type"/>
        <result column="content" property="content"/>

    </resultMap>


    <!-- 获取买家订单列表 -->
    <select id="getMessageList" parameterType="String" resultType="org.wella.entity.Message">
        SELECT
           *
        FROM wa_message
        <where>
            <if test="title!=null and title!=''">
                AND title = #{title}
            </if>
        </where>
        ORDER BY id DESC
        <if test="offset != null and limit != null">
            limit #{offset}, #{limit}
        </if>
    </select>

    <!-- 获取买家订单列表总数 -->
    <select id="getMessageListCount" parameterType="java.util.Map" resultType="int">
        SELECT count(*)
        FROM wa_message
        <where>
            <if test="title!=null and title!=''">
                AND a.order_state = #{orderState}
            </if>
        </where>
    </select>
</mapper>