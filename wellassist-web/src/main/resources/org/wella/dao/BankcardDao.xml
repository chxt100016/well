<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.wella.dao.BankcardDao">
    <resultMap id="bankcard" type="org.wella.entity.Bankcard" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jun 08 10:48:16 CST 2017.
        -->
        <id column="bankcard_id" property="bankcardId" jdbcType="BIGINT" />
        <result column="user_id" property="userId" jdbcType="BIGINT" />
        <result column="bank_name" property="bankName" jdbcType="VARCHAR" />
        <result column="add_time" property="addTime" jdbcType="TIME" />
        <result column="bank_account" property="bankAccount" jdbcType="VARCHAR" />
        <result column="open_address" property="openAddress" jdbcType="VARCHAR" />
    </resultMap>

    <!--获取用户所有的银行卡-->
	<select id="getCardListByUserId" parameterType="long" resultMap="bankcard">
        SELECT *
        FROM wa_bankcard
        WHERE user_id = #{userId}
    </select>

    <!--添加银行卡-->
    <insert id="addCard" parameterType="map" useGeneratedKeys="true" keyProperty="bankcardId">
        INSERT INTO wa_bankcard(user_id,add_time,bank_name,bank_account)
        VALUES (#{userId},#{addTime},#{bankName},#{bankAccount})
    </insert>

    <!--添加银行卡-->
    <insert id="delCard" parameterType="long">
        DELETE from wa_bankcard
        WHERE bankcard_id = #{bankcardId}
    </insert>
</mapper>