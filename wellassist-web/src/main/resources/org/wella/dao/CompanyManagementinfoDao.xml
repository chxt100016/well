<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.wella.dao.CompanyManagementinfoDao">
    <resultMap id="CompanyManagementinfoMap" type="org.wella.entity.CompanyManagementinfo" >
        <id column="id" property="id" jdbcType="BIGINT" />
        <result column="sales_growth_ration" property="salesGrowthRation" jdbcType="DECIMAL" />
        <result column="total_profit" property="totalProfit" jdbcType="DECIMAL" />
        <result column="profit_rate_of_asset" property="profitRateOfAsset" jdbcType="DECIMAL" />
        <result column="inventory_turnover" property="inventoryTurnover" jdbcType="DECIMAL" />
        <result column="effective_ne_worth" property="effectiveNeWorth" jdbcType="DECIMAL" />
        <result column="tangible_plant_assets" property="tangiblePlantAssets" jdbcType="DECIMAL" />
        <result column="revenues" property="revenues" jdbcType="DECIMAL" />
        <result column="credit_code" property="creditCode" jdbcType="CHAR" />
        <result column="period" property="period" jdbcType="DATE" />
    </resultMap>

    <select id="list" parameterType="map" resultMap="CompanyManagementinfoMap">
        select *
        from wa_company_managementinfo
        <where>
            <if test='queryStr != null and queryStr.trim() != "" '>
                AND (credit_code LIKE concat('%',#{queryStr},'%'))
            </if>
        </where>
        <if test='orderBy != null and orderBy.trim() != "" '>
            order by ${orderBy}
        </if>
        <if test="offset != null and limit != null">
            limit #{offset},#{limit}
        </if>
    </select>
    
    <select id="listCount" parameterType="map" resultType="int">
        SELECT count(*) from wa_company_managementinfo
        <where>
            <if test='queryStr != null and queryStr.trim() != "" '>
                AND (NAME LIKE concat('%',#{queryStr},'%') OR credit_code LIKE concat('%',#{queryStr},'%'))
            </if>
        </where>
    </select>

</mapper>