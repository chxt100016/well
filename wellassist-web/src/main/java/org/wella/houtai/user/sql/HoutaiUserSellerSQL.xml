<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="org.wella.houtai.user.mapper.HoutaiUserSellerMapper">
	<!-- 获取商品列表 -->
	<select id="getUserList" parameterType="java.util.Map"	resultType="java.util.Map">
		SELECT a.user_id, a.user_account, a.user_name, a.user_type, a.user_state, a.recent_ip, a.recent_date 
			FROM wa_user AS a 
			WHERE a.user_state > -3
				<if test="userName!=null">
					AND a.user_name LIKE CONCAT('%', '${userName}', '%') 
				</if>
				<if test="userState!=null">
					AND a.user_state = ${userState}
				</if>
				<if test="userType!=null">
					AND a.user_type = ${userType}
				</if>
			ORDER BY a.user_id DESC
			LIMIT ${start} , ${size}
	</select>
	
	<select id="getUserListCount" parameterType="java.util.Map"	resultType="int">
		SELECT count(*)
			FROM wa_user AS a 
			WHERE a.user_state > -3
				<if test="userName!=null">
					AND a.user_name LIKE CONCAT('%', '${userName}', '%') 
				</if>
				<if test="userState!=null">
					AND a.user_state = ${userState}
				</if>
				<if test="userType!=null">
					AND a.user_type = ${userType}
				</if>
	</select>
	
	<!-- 获取地区列表函数 -->
	<select id="getRegionList" parameterType="java.util.Map"	resultType="java.util.Map">
		SELECT a.region_id, a.region_name, a.parent_region_id 
			FROM wa_region AS a 
			WHERE a.parent_region_id = ${parentRegionId}
			ORDER BY a.region_id
	</select>
</mapper>