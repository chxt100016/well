<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.wella.front.customer.mapper.FrontCustomerProdUserMapper">
	<!-- 获得前台商品目录的函数 -->				
	<select id="getUserProdList" parameterType="java.util.Map"  resultType = "java.util.Map"  >
		SELECT * 
		FROM wa_prod_user a 
		INNER JOIN wa_prod b ON a.prod_id = b.prod_id 
		<where>
			AND b.prod_state = 2
			<if test = "userId != null">
				AND a.user_id = #{userId}
			</if>
		</where>
		ORDER BY log_id DESC
	</select>

</mapper>
