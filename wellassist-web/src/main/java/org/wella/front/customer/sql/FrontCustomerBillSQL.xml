<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="org.wella.front.customer.mapper.FrontCustomerBillMapper">
				
	<select id = "getFapiaoList" parameterType = "java.util.Map" resultType = "java.util.Map">
		SELECT a.bill_id, a.bill_no, a.order_id, a.bill_unit, a.bill_money, a.bill_state
		FROM wa_bill a 
		WHERE a.confirm_user_id = #{userId}
		<if test = "billState != null">
			AND a.bill_state = #{billState}
		</if>	
		ORDER BY a.bill_id DESC
		LIMIT ${start} , ${size}
	</select>	

	<select id = "getFapiaoListCount" parameterType = "java.util.Map" resultType = "int">
		SELECT COUNT(*)
		FROM wa_bill a 
		WHERE a.confirm_user_id = #{userId}
		<if test = "billState != null">
			AND a.bill_state = #{billState}
		</if>	
	</select>
</mapper>
